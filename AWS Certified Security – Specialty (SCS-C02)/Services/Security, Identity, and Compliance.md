## **1. AWS Identity and Access Management (IAM)**  
### **What it is:**  
The **core security service** controlling **who (identity) can do what (permissions)** in AWS.  

### **Key Components:**  
- **Users** â€“ Individual people or apps (e.g., `john@company.com`).  
- **Groups** â€“ Collections of users (e.g., `Developers`, `Admins`).  
- **Roles** â€“ Temporary permissions for AWS services (e.g., EC2 accessing S3).  
- **Policies** â€“ JSON documents defining permissions (e.g., `Allow: s3:GetObject`).  

### **Critical Details:**  
âœ… **Principle of Least Privilege** â€“ Give only necessary permissions.  
âœ… **IAM is Global** â€“ Not tied to a region.  
âœ… **Policies can be:**  
   - **AWS Managed** (pre-built by AWS, e.g., `AmazonS3ReadOnlyAccess`).  
   - **Customer Managed** (custom policies you create).  
   - **Inline** (directly attached to a user/role, harder to manage).  

### **IAM Roles vs. Users:**  
| **IAM Users** | **IAM Roles** |  
|--------------|--------------|  
| Permanent identities (people/apps). | Temporary identities (AWS services/EC2). |  
| Have long-term credentials (username/password). | Use **temporary security tokens**. |  
| Best for **human access**. | Best for **AWS service-to-service access**. |  

### **Use Cases:**  
- **EC2 Instance Role**: Let an EC2 access S3 without hardcoding keys.  
- **Cross-Account Access**: Allow a user from Account A to access Account B.  

---

## **2. AWS Key Management Service (KMS)**  
### **What it is:**  
A **managed encryption service** to create & control encryption keys.  

### **How it Works:**  
- **Customer Master Key (CMK)** â€“ Your encryption key (can be AWS-managed or customer-managed).  
- **Data Encryption Key (DEK)** â€“ Used to encrypt data (generated by KMS).  

### **Key Types:**  
ðŸ”‘ **AWS-Managed CMK** â€“ Free, auto-rotated, used by default in many AWS services (e.g., S3 SSE).  
ðŸ”‘ **Customer-Managed CMK** â€“ You control key policies & rotation ($$).  
ðŸ”‘ **AWS Owned Keys** â€“ Shared across multiple customers (you donâ€™t see them).  

### **Critical Details:**  
âœ… **Encryption at Rest** â€“ KMS encrypts data in S3, EBS, RDS, etc.  
âœ… **Key Rotation** â€“ AWS-managed keys rotate every **1 year**; customer-managed can rotate **every 90 days**.  
âœ… **Audit Trail** â€“ All key usage logged in **CloudTrail**.  

### **Use Cases:**  
- Encrypt an S3 bucket using **SSE-KMS** (instead of default SSE-S3).  
- Control **who can use/disable encryption keys** (via key policies).  

---

## **3. AWS CloudHSM (Hardware Security Module)**  
### **What it is:**  
A **dedicated hardware device** for managing encryption keys (**FIPS 140-2 Level 3 certified**).  

### **CloudHSM vs. KMS:**  
| **Feature**       | **KMS**                     | **CloudHSM**               |  
|------------------|----------------------------|---------------------------|  
| **Key Control**  | AWS manages keys.          | You **fully control keys**. |  
| **Compliance**   | FIPS 140-2 Level 2.        | FIPS 140-2 **Level 3**.    |  
| **Performance**  | Shared hardware.           | Dedicated HSM appliance.   |  
| **Use Case**     | General AWS encryption.    | **Strict compliance** (banks, govt). |  

### **Critical Details:**  
âœ… **Single-Tenant** â€“ Your keys are **not shared** with other AWS customers.  
âœ… **HSM Clusters** â€“ Deploy in **multiple AZs** for high availability.  
âœ… **No AWS Access** â€“ Even AWS admins **cannot access your keys**.  

### **Use Cases:**  
- **Financial institutions** needing **strict key control**.  
- **Custom encryption apps** (e.g., Oracle DB encryption).  

---

## **4. AWS Certificate Manager (ACM)**  
### **What it is:**  
A service to **request, manage, and deploy SSL/TLS certificates** for free.  

### **Supported Services:**  
- **CloudFront** (HTTPS for CDN).  
- **ALB/ELB** (HTTPS for load balancers).  
- **API Gateway** (HTTPS for APIs).  

### **Critical Details:**  
âœ… **Free Certificates** â€“ Only for **AWS-integrated services** (not for on-prem servers).  
âœ… **Auto-Renewal** â€“ ACM automatically renews certificates before expiry.  
âœ… **Public & Private Certs** â€“ Public (for websites), Private (for internal apps).  

### **Use Cases:**  
- Secure a website with **HTTPS** (e.g., `https://example.com`).  
- Replace **self-signed certs** with trusted ones.  

---

## **5. AWS WAF (Web Application Firewall)**  
### **What it is:**  
A **firewall for web apps** that blocks common attacks (SQLi, XSS, bots).  

### **How it Works:**  
- **Rules** define what traffic to **allow/block** (e.g., "Block requests from IP X").  
- **Rule Groups** â€“ Predefined (AWS Managed) or custom rules.  

### **Supported Services:**  
- **CloudFront** (global protection).  
- **ALB** (regional protection).  
- **API Gateway** (REST/HTTP APIs).  

### **Critical Details:**  
âœ… **OWASP Top 10 Protection** â€“ Blocks SQL injection, XSS, etc.  
âœ… **Geo-Blocking** â€“ Restrict traffic by country.  
âœ… **Rate Limiting** â€“ Prevent brute-force attacks.  

### **Use Cases:**  
- Stop **DDoS attacks** on a WordPress site.  
- Block **malicious bots** scraping your API.  

---

## **6. AWS Shield (DDoS Protection)**  
### **What it is:**  
A **managed DDoS protection** service for AWS resources.  

### **Shield Standard vs. Advanced:**  
| **Feature**       | **Shield Standard** (Free) | **Shield Advanced** (Paid) |  
|------------------|---------------------------|---------------------------|  
| **Protection**   | Basic DDoS protection.    | Advanced DDoS + 24/7 support. |  
| **Cost**        | Free.                     | $3,000/month per org.     |  
| **Features**    | Auto-enabled on ALB/ELB, CloudFront. | Custom mitigations, WAF integration. |  

### **Critical Details:**  
âœ… **Layer 3/4 Protection** (Standard) â€“ Stops SYN floods, UDP reflection attacks.  
âœ… **Layer 7 Protection** (Advanced) â€“ Combines with **WAF** for app-layer attacks.  

### **Use Cases:**  
- **E-commerce site** needing **DDoS protection**.  
- **Gaming servers** under heavy attack.  

---

# **Summary Cheat Sheet**  

| **Service**      | **Best For**                     | **Key Feature** |  
|-----------------|---------------------------------|----------------|  
| **IAM**         | User & service permissions.     | Policies & Roles. |  
| **KMS**        | Encryption key management.      | CMKs, Key Rotation. |  
| **CloudHSM**   | Dedicated key storage (FIPS 140-2 L3). | Single-tenant HSM. |  
| **ACM**        | Free SSL certificates.          | Auto-renewal. |  
| **WAF**        | Blocking web attacks (SQLi, XSS). | Rule-based filtering. |  
| **Shield**     | DDoS protection.                | Standard (free) vs. Advanced. |  

---

### **Final Exam Tips:**  
ðŸ”¹ **IAM is the foundation** â€“ Master **users, groups, roles, policies**.  
ðŸ”¹ **KMS vs. CloudHSM** â€“ KMS = AWS-managed, CloudHSM = You manage.  
ðŸ”¹ **WAF + Shield Advanced** = Best combo for **DDoS + web attacks**.  